!function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function s(){return Object.create(null)}function o(t){t.forEach(r)}function c(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e,n,r){if(t){const s=u(t,e,n,r);return t[0](s)}}function u(t,e,r,s){return t[1]&&s?n(r.ctx.slice(),t[1](s(e))):r.ctx}function a(t,e,n,r,s,o,c){const i=function(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|s[r];return t}return e.dirty|s}return e.dirty}(e,r,s,o);if(i){const s=u(e,n,r,c);t.p(s,i)}}function f(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}const d="undefined"!=typeof window;let $=d?()=>window.performance.now():()=>Date.now(),m=d?t=>requestAnimationFrame(t):t;const p=new Set;function h(t){p.forEach((e=>{e.c(t)||(p.delete(e),e.f())})),0!==p.size&&m(h)}function g(t){let e;return 0===p.size&&m(h),{promise:new Promise((n=>{p.add(e={c:t,f:n})})),abort(){p.delete(e)}}}function v(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function x(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function k(){return _(" ")}function L(){return _("")}function I(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function S(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function M(t,e){t.value=null==e?"":e}function C(t,e,n){t.classList[n?"add":"remove"](e)}function W(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const j=new Set;let z,D=0;function N(t,e,n,r,s,o,c,i=0){const l=16.666/r;let u="{\n";for(let t=0;t<=1;t+=l){const r=e+(n-e)*o(t);u+=100*t+`%{${c(r,1-r)}}\n`}const a=u+`100% {${c(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${i}`,d=t.ownerDocument;j.add(d);const $=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(x("style")).sheet),m=d.__svelte_rules||(d.__svelte_rules={});m[f]||(m[f]=!0,$.insertRule(`@keyframes ${f} ${a}`,$.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${f} ${r}ms linear ${s}ms 1 both`,D+=1,f}function A(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=n.length-r.length;s&&(t.style.animation=r.join(", "),D-=s,D||m((()=>{D||(j.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),j.clear())})))}function B(t){z=t}function O(){if(!z)throw new Error("Function called outside component initialization");return z}function P(){const t=O();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const s=W(e,n);r.slice().forEach((e=>{e.call(t,s)}))}}}const F=[],H=[],q=[],T=[],V=Promise.resolve();let Y=!1;function G(t){q.push(t)}let R=!1;const J=new Set;function U(){if(!R){R=!0;do{for(let t=0;t<F.length;t+=1){const e=F[t];B(e),X(e.$$)}for(B(null),F.length=0;H.length;)H.pop()();for(let t=0;t<q.length;t+=1){const e=q[t];J.has(e)||(J.add(e),e())}q.length=0}while(F.length);for(;T.length;)T.pop()();Y=!1,R=!1,J.clear()}}function X(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(G)}}let K;function Q(){return K||(K=Promise.resolve(),K.then((()=>{K=null}))),K}function Z(t,e,n){t.dispatchEvent(W(`${e?"intro":"outro"}${n}`))}const tt=new Set;let et;function nt(){et={r:0,c:[],p:et}}function rt(){et.r||o(et.c),et=et.p}function st(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function ot(t,e,n,r){if(t&&t.o){if(tt.has(t))return;tt.add(t),et.c.push((()=>{tt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const ct={duration:0};function it(n,r,s){let i,l=r(n,s),u=!0;const a=et;function f(){const{delay:r=0,duration:s=300,easing:c=e,tick:f=t,css:d}=l||ct;d&&(i=N(n,1,0,s,r,c,d));const m=$()+r,p=m+s;G((()=>Z(n,!1,"start"))),g((t=>{if(u){if(t>=p)return f(0,1),Z(n,!1,"end"),--a.r||o(a.c),!1;if(t>=m){const e=c((t-m)/s);f(1-e,e)}}return u}))}return a.r+=1,c(l)?Q().then((()=>{l=l(),f()})):f(),{end(t){t&&l.tick&&l.tick(1,0),u&&(i&&A(n,i),u=!1)}}}function lt(n,r,s,i){let l=r(n,s),u=i?0:1,a=null,f=null,d=null;function m(){d&&A(n,d)}function p(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function h(r){const{delay:s=0,duration:c=300,easing:i=e,tick:h=t,css:v}=l||ct,w={start:$()+s,b:r};r||(w.group=et,et.r+=1),a||f?f=w:(v&&(m(),d=N(n,u,r,c,s,i,v)),r&&h(0,1),a=p(w,c),G((()=>Z(n,r,"start"))),g((t=>{if(f&&t>f.start&&(a=p(f,c),f=null,Z(n,a.b,"start"),v&&(m(),d=N(n,u,a.b,a.duration,0,i,l.css))),a)if(t>=a.end)h(u=a.b,1-u),Z(n,a.b,"end"),f||(a.b?m():--a.group.r||o(a.group.c)),a=null;else if(t>=a.start){const e=t-a.start;u=a.a+a.d*i(e/a.duration),h(u,1-u)}return!(!a&&!f)})))}return{run(t){c(l)?Q().then((()=>{l=l(),h(t)})):h(t)},end(){m(),a=f=null}}}function ut(t,e){ot(t,1,1,(()=>{e.delete(t.key)}))}function at(t,e){const n={},r={},s={$$scope:1};let o=t.length;for(;o--;){const c=t[o],i=e[o];if(i){for(const t in c)t in i||(r[t]=1);for(const t in i)s[t]||(n[t]=i[t],s[t]=1);t[o]=i}else for(const t in c)s[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function ft(t){return"object"==typeof t&&null!==t?t:{}}function dt(t){t&&t.c()}function $t(t,e,n){const{fragment:s,on_mount:i,on_destroy:l,after_update:u}=t.$$;s&&s.m(e,n),G((()=>{const e=i.map(r).filter(c);l?l.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(G)}function mt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pt(t,e){-1===t.$$.dirty[0]&&(F.push(t),Y||(Y=!0,V.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ht(e,n,r,c,i,l,u=[-1]){const a=z;B(e);const f=n.props||{},d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:s(),dirty:u,skip_bound:!1};let $=!1;if(d.ctx=r?r(e,f,((t,n,...r)=>{const s=r.length?r[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),$&&pt(e,t)),n})):[],d.update(),$=!0,o(d.before_update),d.fragment=!!c&&c(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(y)}else d.fragment&&d.fragment.c();n.intro&&st(e.$$.fragment),$t(e,n.target,n.anchor),U()}B(a)}class gt{$destroy(){mt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function vt(t,{delay:n=0,duration:r=400,easing:s=e}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:s,css:t=>"opacity: "+t*o}}function wt(e){let n,r,s;return{c(){n=x("div"),S(n,"id","spinner"),S(n,"class","svelte-wk8mx8")},m(t,e){w(t,n,e),s=!0},p:t,i(t){s||(r&&r.end(1),s=!0)},o(t){r=it(n,vt,{}),s=!1},d(t){t&&y(n),t&&r&&r.end()}}}class yt extends gt{constructor(t){super(),ht(this,t,null,wt,i,{})}}const xt="assets/data/words.json";async function bt(){let t=JSON.parse(localStorage.getItem("words"));return t||(t=await async function(){return fetch(xt).then((t=>t.json()))}(),localStorage.setItem("words",JSON.stringify(t))),t}function _t(){const t=parseInt(localStorage.getItem("last"))||0;return{best:parseInt(localStorage.getItem("best"))||t,last:t}}function kt(e){let n,r,s,o,c;return{c(){n=x("div"),r=x("div"),s=_(e[0]),S(r,"class","word svelte-p34olb"),S(r,"style",e[1])},m(t,e){w(t,n,e),v(n,r),v(r,s),c=!0},p:t,i(t){c||(o&&o.end(1),c=!0)},o(t){o=it(n,vt,{}),c=!1},d(t){t&&y(n),t&&o&&o.end()}}}function Lt(t,e,n){let{props:r}=e;const{value:s,x:o,duration:c}=r,i=(o+100)/2,l=`\n        left: ${i}%;\n        animation-duration: ${c}s;\n        --transX: translateX(${-i}%);\n    `;return t.$$set=t=>{"props"in t&&n(2,r=t.props)},[s,l,r]}class It extends gt{constructor(t){super(),ht(this,t,Lt,kt,i,{props:2})}}function St(t){let e,n;return{c(){e=b("title"),n=_(t[0])},m(t,r){w(t,e,r),v(e,n)},p(t,e){1&e&&E(n,t[0])},d(t){t&&y(e)}}}function Et(t){let e,n,r,s=t[0]&&St(t);const o=t[3].default,c=l(o,t,t[2],null);return{c(){e=b("svg"),s&&s.c(),n=L(),c&&c.c(),S(e,"xmlns","http://www.w3.org/2000/svg"),S(e,"viewBox",t[1]),S(e,"class","svelte-c8tyih")},m(t,o){w(t,e,o),s&&s.m(e,null),v(e,n),c&&c.m(e,null),r=!0},p(t,[i]){t[0]?s?s.p(t,i):(s=St(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c&&c.p&&4&i&&a(c,o,t,t[2],i,null,null),(!r||2&i)&&S(e,"viewBox",t[1])},i(t){r||(st(c,t),r=!0)},o(t){ot(c,t),r=!1},d(t){t&&y(e),s&&s.d(),c&&c.d(t)}}}function Mt(t,e,n){let{$$slots:r={},$$scope:s}=e,{title:o=null}=e,{viewBox:c}=e;return t.$$set=t=>{"title"in t&&n(0,o=t.title),"viewBox"in t&&n(1,c=t.viewBox),"$$scope"in t&&n(2,s=t.$$scope)},[o,c,s,r]}class Ct extends gt{constructor(t){super(),ht(this,t,Mt,Et,i,{title:0,viewBox:1})}}function Wt(t){let e;return{c(){e=b("path"),S(e,"d","M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function jt(t){let e,r;const s=[{viewBox:"0 0 24 24"},t[0]];let o={$$slots:{default:[Wt]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)o=n(o,s[t]);return e=new Ct({props:o}),{c(){dt(e.$$.fragment)},m(t,n){$t(e,t,n),r=!0},p(t,[n]){const r=1&n?at(s,[s[0],ft(t[0])]):{};2&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(st(e.$$.fragment,t),r=!0)},o(t){ot(e.$$.fragment,t),r=!1},d(t){mt(e,t)}}}function zt(t,e,r){return t.$$set=t=>{r(0,e=n(n({},e),f(t)))},[e=f(e)]}class Dt extends gt{constructor(t){super(),ht(this,t,zt,jt,i,{})}}function Nt(t){let e,n;const r=t[1].default,s=l(r,t,t[0],null);return{c(){e=x("div"),s&&s.c(),S(e,"class","icon svelte-6xq53p")},m(t,r){w(t,e,r),s&&s.m(e,null),n=!0},p(t,[e]){s&&s.p&&1&e&&a(s,r,t,t[0],e,null,null)},i(t){n||(st(s,t),n=!0)},o(t){ot(s,t),n=!1},d(t){t&&y(e),s&&s.d(t)}}}function At(t,e,n){let{$$slots:r={},$$scope:s}=e;return t.$$set=t=>{"$$scope"in t&&n(0,s=t.$$scope)},[s,r]}class Bt extends gt{constructor(t){super(),ht(this,t,At,Nt,i,{})}}function Ot(t,e,n){const r=t.slice();return r[10]=e[n],r}function Pt(t,e){let n,r,s;return r=new It({props:{props:e[10]}}),{key:t,first:null,c(){n=L(),dt(r.$$.fragment),this.first=n},m(t,e){w(t,n,e),$t(r,t,e),s=!0},p(t,e){const n={};16&e&&(n.props=t[10]),r.$set(n)},i(t){s||(st(r.$$.fragment,t),s=!0)},o(t){ot(r.$$.fragment,t),s=!1},d(t){t&&y(n),mt(r,t)}}}function Ft(t){let e,n;return e=new Dt({}),{c(){dt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){mt(e,t)}}}function Ht(t){let e,n,r,s,c,i,l,u,a,f,d,$,m,p,h,g=[],b=new Map,L=t[4];const W=t=>t[10].id;for(let e=0;e<L.length;e+=1){let n=Ot(t,L,e),r=W(n);b.set(r,g[e]=Pt(r,n))}return i=new Bt({props:{$$slots:{default:[Ft]},$$scope:{ctx:t}}}),{c(){e=x("div"),n=x("div");for(let t=0;t<g.length;t+=1)g[t].c();r=k(),s=x("div"),c=x("div"),dt(i.$$.fragment),l=_("\n            Score:\n            "),u=_(t[0]),a=k(),f=x("input"),S(n,"class","words-container svelte-jv2s15"),S(c,"class","score svelte-jv2s15"),S(f,"class","input svelte-jv2s15"),S(f,"type","text"),S(f,"spellcheck",d=!1),C(f,"invalid",t[3]),S(s,"class","bottom-bar svelte-jv2s15"),S(e,"class","playground svelte-jv2s15")},m(o,d){w(o,e,d),v(e,n);for(let t=0;t<g.length;t+=1)g[t].m(n,null);v(e,r),v(e,s),v(s,c),$t(i,c,null),v(c,l),v(c,u),v(s,a),v(s,f),M(f,t[1]),t[9](f),m=!0,p||(h=[I(f,"input",t[8]),I(f,"keyup",t[6]),I(f,"blur",t[5])],p=!0)},p(t,[e]){if(16&e){const r=t[4];nt(),g=function(t,e,n,r,s,o,c,i,l,u,a,f){let d=t.length,$=o.length,m=d;const p={};for(;m--;)p[t[m].key]=m;const h=[],g=new Map,v=new Map;for(m=$;m--;){const t=f(s,o,m),i=n(t);let l=c.get(i);l?r&&l.p(t,e):(l=u(i,t),l.c()),g.set(i,h[m]=l),i in p&&v.set(i,Math.abs(m-p[i]))}const w=new Set,y=new Set;function x(t){st(t,1),t.m(i,a),c.set(t.key,t),a=t.first,$--}for(;d&&$;){const e=h[$-1],n=t[d-1],r=e.key,s=n.key;e===n?(a=e.first,d--,$--):g.has(s)?!c.has(r)||w.has(r)?x(e):y.has(s)?d--:v.get(r)>v.get(s)?(y.add(r),x(e)):(w.add(s),d--):(l(n,c),d--)}for(;d--;){const e=t[d];g.has(e.key)||l(e,c)}for(;$;)x(h[$-1]);return h}(g,e,W,1,t,r,b,n,ut,Pt,null,Ot),rt()}const r={};8192&e&&(r.$$scope={dirty:e,ctx:t}),i.$set(r),(!m||1&e)&&E(u,t[0]),2&e&&f.value!==t[1]&&M(f,t[1]),8&e&&C(f,"invalid",t[3])},i(t){if(!m){for(let t=0;t<L.length;t+=1)st(g[t]);st(i.$$.fragment,t),G((()=>{$||($=lt(e,vt,{duration:500},!0)),$.run(1)})),m=!0}},o(t){for(let t=0;t<g.length;t+=1)ot(g[t]);ot(i.$$.fragment,t),$||($=lt(e,vt,{duration:500},!1)),$.run(0),m=!1},d(n){n&&y(e);for(let t=0;t<g.length;t+=1)g[t].d();mt(i),t[9](null),n&&$&&$.end(),p=!1,o(h)}}}function qt(t,e,n){let r,{game:s}=e,o=0,c="",i=!1,l=[];var u;s.registerWordsListener((t=>{n(4,l=t)})),s.registerScoreListener((t=>{n(0,o=t)})),u=()=>a(),O().$$.on_mount.push(u);const a=()=>r.focus();return t.$$set=t=>{"game"in t&&n(7,s=t.game)},[o,c,r,i,l,a,t=>{n(3,i=!1),"Enter"==t.key&&(s.handle(c)?n(1,c=""):n(3,i=!0))},s,function(){c=this.value,n(1,c)},function(t){H[t?"unshift":"push"]((()=>{r=t,n(2,r)}))}]}class Tt extends gt{constructor(t){super(),ht(this,t,qt,Ht,i,{game:7})}}function Vt(t){let e;return{c(){e=b("path"),S(e,"d","M8 5v14l11-7z")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Yt(t){let e,r;const s=[{viewBox:"0 0 24 24"},t[0]];let o={$$slots:{default:[Vt]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)o=n(o,s[t]);return e=new Ct({props:o}),{c(){dt(e.$$.fragment)},m(t,n){$t(e,t,n),r=!0},p(t,[n]){const r=1&n?at(s,[s[0],ft(t[0])]):{};2&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(st(e.$$.fragment,t),r=!0)},o(t){ot(e.$$.fragment,t),r=!1},d(t){mt(e,t)}}}function Gt(t,e,r){return t.$$set=t=>{r(0,e=n(n({},e),f(t)))},[e=f(e)]}class Rt extends gt{constructor(t){super(),ht(this,t,Gt,Yt,i,{})}}function Jt(t){let e;return{c(){e=b("path"),S(e,"d","M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Ut(t){let e,r;const s=[{viewBox:"0 0 512 512"},t[0]];let o={$$slots:{default:[Jt]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)o=n(o,s[t]);return e=new Ct({props:o}),{c(){dt(e.$$.fragment)},m(t,n){$t(e,t,n),r=!0},p(t,[n]){const r=1&n?at(s,[s[0],ft(t[0])]):{};2&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(st(e.$$.fragment,t),r=!0)},o(t){ot(e.$$.fragment,t),r=!1},d(t){mt(e,t)}}}function Xt(t,e,r){return t.$$set=t=>{r(0,e=n(n({},e),f(t)))},[e=f(e)]}class Kt extends gt{constructor(t){super(),ht(this,t,Xt,Ut,i,{})}}function Qt(t){let e,n;return e=new Kt({}),{c(){dt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){mt(e,t)}}}function Zt(t){let e,n;return e=new Rt({}),{c(){dt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){mt(e,t)}}}function te(t){let e,n,r,s,o,c,i,l,u,a,f,d,$,m,p,h,g;return s=new Bt({props:{$$slots:{default:[Qt]},$$scope:{ctx:t}}}),$=new Bt({props:{$$slots:{default:[Zt]},$$scope:{ctx:t}}}),{c(){e=x("div"),n=x("div"),r=x("div"),dt(s.$$.fragment),o=_("\n            Best score:\n            "),c=x("strong"),c.textContent=`${t[0]}`,i=k(),l=x("div"),u=_("Last score: "),a=x("strong"),a.textContent=`${t[1]}`,f=k(),d=x("button"),dt($.$$.fragment),S(n,"id","scores"),S(n,"class","svelte-1q3kv3i"),S(d,"id","play"),S(d,"class","svelte-1q3kv3i"),S(e,"id","start-menu"),S(e,"class","svelte-1q3kv3i"),C(e,"hidden",ee)},m(m,y){w(m,e,y),v(e,n),v(n,r),$t(s,r,null),v(r,o),v(r,c),v(n,i),v(n,l),v(l,u),v(l,a),v(e,f),v(e,d),$t($,d,null),p=!0,h||(g=I(d,"click",t[4]),h=!0)},p(t,[n]){const r={};32&n&&(r.$$scope={dirty:n,ctx:t}),s.$set(r);const o={};32&n&&(o.$$scope={dirty:n,ctx:t}),$.$set(o),0&n&&C(e,"hidden",ee)},i(t){p||(st(s.$$.fragment,t),st($.$$.fragment,t),G((()=>{m||(m=lt(e,vt,{duration:500},!0)),m.run(1)})),p=!0)},o(t){ot(s.$$.fragment,t),ot($.$$.fragment,t),m||(m=lt(e,vt,{duration:500},!1)),m.run(0),p=!1},d(t){t&&y(e),mt(s),mt($),t&&m&&m.end(),h=!1,g()}}}let ee=!1;function ne(t,e,n){let{scores:r=_t()}=e;const{best:s,last:o}=r,c=P();return t.$$set=t=>{"scores"in t&&n(3,r=t.scores)},[s,o,c,r,()=>c("start")]}class re extends gt{constructor(t){super(),ht(this,t,ne,te,i,{scores:3})}}function se(t){let e;return{c(){e=b("path"),S(e,"d","M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function oe(t){let e,r;const s=[{viewBox:"0 0 24 24"},t[0]];let o={$$slots:{default:[se]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)o=n(o,s[t]);return e=new Ct({props:o}),{c(){dt(e.$$.fragment)},m(t,n){$t(e,t,n),r=!0},p(t,[n]){const r=1&n?at(s,[s[0],ft(t[0])]):{};2&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(st(e.$$.fragment,t),r=!0)},o(t){ot(e.$$.fragment,t),r=!1},d(t){mt(e,t)}}}function ce(t,e,r){return t.$$set=t=>{r(0,e=n(n({},e),f(t)))},[e=f(e)]}class ie extends gt{constructor(t){super(),ht(this,t,ce,oe,i,{})}}function le(t){let e;return{c(){e=b("path"),S(e,"d","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm144 386.4V280c0-13.2-10.8-24-24-24s-24 10.8-24 24v151.4C315.5 447 282.8 456 248 456s-67.5-9-96-24.6V280c0-13.2-10.8-24-24-24s-24 10.8-24 24v114.4c-34.6-36-56-84.7-56-138.4 0-110.3 89.7-200 200-200s200 89.7 200 200c0 53.7-21.4 102.5-56 138.4zM205.8 234.5c4.4-2.4 6.9-7.4 6.1-12.4-4-25.2-34.2-42.1-59.8-42.1s-55.9 16.9-59.8 42.1c-.8 5 1.7 10 6.1 12.4 4.4 2.4 9.9 1.8 13.7-1.6l9.5-8.5c14.8-13.2 46.2-13.2 61 0l9.5 8.5c2.5 2.3 7.9 4.8 13.7 1.6zM344 180c-25.7 0-55.9 16.9-59.8 42.1-.8 5 1.7 10 6.1 12.4 4.5 2.4 9.9 1.8 13.7-1.6l9.5-8.5c14.8-13.2 46.2-13.2 61 0l9.5 8.5c2.5 2.2 8 4.7 13.7 1.6 4.4-2.4 6.9-7.4 6.1-12.4-3.9-25.2-34.1-42.1-59.8-42.1zm-96 92c-30.9 0-56 28.7-56 64s25.1 64 56 64 56-28.7 56-64-25.1-64-56-64z")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function ue(t){let e,r;const s=[{viewBox:"0 0 496 512"},t[0]];let o={$$slots:{default:[le]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)o=n(o,s[t]);return e=new Ct({props:o}),{c(){dt(e.$$.fragment)},m(t,n){$t(e,t,n),r=!0},p(t,[n]){const r=1&n?at(s,[s[0],ft(t[0])]):{};2&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(st(e.$$.fragment,t),r=!0)},o(t){ot(e.$$.fragment,t),r=!1},d(t){mt(e,t)}}}function ae(t,e,r){return t.$$set=t=>{r(0,e=n(n({},e),f(t)))},[e=f(e)]}class fe extends gt{constructor(t){super(),ht(this,t,ae,ue,i,{})}}function de(t){let e,n;return e=new fe({}),{c(){dt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){mt(e,t)}}}function $e(t){let e,n;return e=new ie({}),{c(){dt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){mt(e,t)}}}function me(t){let e,n;return e=new Rt({}),{c(){dt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){mt(e,t)}}}function pe(t){let e,n,r,s,c,i,l,u,a,f,d,$,m,p,h,g,b,L,E,M;return r=new Bt({props:{$$slots:{default:[de]},$$scope:{ctx:t}}}),$=new Bt({props:{$$slots:{default:[$e]},$$scope:{ctx:t}}}),g=new Bt({props:{$$slots:{default:[me]},$$scope:{ctx:t}}}),{c(){e=x("div"),n=x("h1"),dt(r.$$.fragment),s=_("\n        Game Over!"),c=k(),i=x("h2"),i.textContent=`Your score: ${t[0]}`,l=k(),u=x("p"),u.textContent=`Best score: ${t[1]}`,a=k(),f=x("div"),d=x("button"),dt($.$$.fragment),m=_("\n            Menu"),p=k(),h=x("button"),dt(g.$$.fragment),b=_("\n            Play again"),S(d,"class","btn svelte-1ols91t"),S(h,"class","btn svelte-1ols91t"),S(e,"class","wrapper svelte-1ols91t")},m(o,y){w(o,e,y),v(e,n),$t(r,n,null),v(n,s),v(e,c),v(e,i),v(e,l),v(e,u),v(e,a),v(e,f),v(f,d),$t($,d,null),v(d,m),v(f,p),v(f,h),$t(g,h,null),v(h,b),L=!0,E||(M=[I(d,"click",t[4]),I(h,"click",t[5])],E=!0)},p(t,[e]){const n={};64&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n);const s={};64&e&&(s.$$scope={dirty:e,ctx:t}),$.$set(s);const o={};64&e&&(o.$$scope={dirty:e,ctx:t}),g.$set(o)},i(t){L||(st(r.$$.fragment,t),st($.$$.fragment,t),st(g.$$.fragment,t),L=!0)},o(t){ot(r.$$.fragment,t),ot($.$$.fragment,t),ot(g.$$.fragment,t),L=!1},d(t){t&&y(e),mt(r),mt($),mt(g),E=!1,o(M)}}}function he(t,e,n){let{scores:r}=e;const{last:s,best:o}=r,c=P();return t.$$set=t=>{"scores"in t&&n(3,r=t.scores)},[s,o,c,r,()=>c("menu"),()=>c("playagain")]}class ge extends gt{constructor(t){super(),ht(this,t,he,pe,i,{scores:3})}}function ve(t){return{enumerable:!0,value:t}}function we(t){return{enumerable:!0,writable:!0,value:t}}let ye={},xe=()=>!0,be=()=>({}),_e=t=>t,ke=(t,e,n,r)=>t.apply(n,r)&&e.apply(n,r),Le=(t,e,n,[r,s])=>e.call(n,t.call(n,r,s),s),Ie=(t,e)=>Object.freeze(Object.create(t,e));function Se(t,e,n){return t.reduce(((t,e)=>function(...r){return n(t,e,this,r)}),e)}function Ee(t){return Ie(this,{fn:ve(t)})}let Me={},Ce=(Ee.bind(Me),{});Ee.bind(Ce);function We(t,e){return e.filter((e=>t.isPrototypeOf(e)))}function je(t,e,...n){let r=Se(We(Ce,n).map((t=>t.fn)),xe,ke),s=Se(We(Me,n).map((t=>t.fn)),_e,Le);return Ie(this,{from:ve(t),to:ve(e),guards:ve(r),reducers:ve(s)})}let ze={},De={},Ne=je.bind(ze);je.bind(De,null);function Ae(t,e,n){return He(e,t,n,this.immediates)||t}function Be(t){let e=new Map;for(let n of t)e.has(n.from)||e.set(n.from,[]),e.get(n.from).push(n);return e}let Oe={enter:_e};function Pe(...t){let e=We(ze,t),n=We(De,t),r={final:ve(0===t.length),transitions:ve(Be(e))};return n.length&&(r.immediates=ve(n),r.enter=ve(Ae)),Ie(Oe,r)}let Fe={get state(){return{name:this.current,value:this.states[this.current]}}};function He(t,e,n,r){let{context:s}=t;for(let{to:o,guards:c,reducers:i}of r)if(c(s,n)){t.context=i.call(t,s,n);let r=e.original||e,c=Ie(r,{current:ve(o),original:{value:r}});return c.state.value.enter(c,t,n)}}let qe={send(t){this.machine=function(t,e){let n=e.type||e,{machine:r}=t,{value:s}=r.state;return s.transitions.has(n)&&He(t,r,e,s.transitions.get(n))||r}(this,t),this.onChange(this)}};const Te=function(t,e,n=be){return"string"!=typeof t&&(n=e||be,e=t,t=Object.keys(e)[0]),ye._create&&ye._create(t,e),Ie(Fe,{context:ve(n),current:ve(t),states:ve(e)})}("IDLE",{IDLE:Pe(Ne("start","PLAYING")),PLAYING:Pe(Ne("pause","PAUSED"),Ne("end","FINISHED")),PAUSED:Pe(Ne("resume","PLAY")),FINISHED:Pe()});class Ve{constructor(t,e){this._fallTime=2e3,this._duration=10,this._score=0,this._fallingWords=[],this._intervals={},this._wordsList=t,this.state=function(t,e,n,r){let s=Object.create(qe,{machine:we(t),context:we(t.context(n,r)),onChange:ve(e)});return s.send=s.send.bind(s),s.machine=s.machine.state.value.enter(s.machine,s,r),s}(Te,e)}start(){this.state.send("start"),this.updateFallInterval(),this._intervals.difficulty=setInterval((()=>{this.increaseDifficulty()}),2e4)}increaseDifficulty(){this._fallTime-=200,this._duration-=.5,this.updateFallInterval()}updateFallInterval(){clearInterval(this._intervals.fall),this._intervals.fall=setInterval((()=>{this.addWord()}),this._fallTime)}get fallingWords(){return this._fallingWords}set fallingWords(t){this._fallingWords=t,this._wordsListener(t)}get score(){return this._score}set score(t){this._score=t,this._scoreListener(t)}handle(t){const e=t.toLocaleLowerCase(),n=this.isValid(e);if(n){const t=this.removeWord(e);this.applyScore(t),clearInterval(t.timeout)}return n}isValid(t){return this.fallingWords.some((e=>e.value==t))}removeWord(t){const e=this.fallingWords.findIndex((e=>e.value==t)),n=this.fallingWords[e];return this.fallingWords=this.fallingWords.filter(((t,n)=>n!=e)),clearInterval(n.timeout),n}applyScore(t){this.score+=Math.round(t.value.length*(100/t.duration))}addWord(){const t=this.generateWord();this.fallingWords=[...this.fallingWords,t]}generateWord(){const t=Math.floor(Math.random()*this._wordsList.length),e=this._wordsList[t],n=this.randomPos(),r=this._duration;return{x:n,value:e,duration:r,id:e+n,timeout:setTimeout((()=>this.loose()),1e3*r)}}loose(){this.state.send("end");for(let t of Object.values(this._intervals))clearInterval(t);for(let t of this.fallingWords)this.removeWord(t.value)}randomPos(){return this.randint(-100,100)}randint(t,e){const n=e-t;return Math.round(Math.random()*n)+t}registerWordsListener(t){this._wordsListener=t}registerScoreListener(t){this._scoreListener=t}}function Ye(e){let n,r;return n=new ge({props:{scores:_t()}}),n.$on("menu",e[2]),n.$on("playagain",e[3]),{c(){dt(n.$$.fragment)},m(t,e){$t(n,t,e),r=!0},p:t,i(t){r||(st(n.$$.fragment,t),r=!0)},o(t){ot(n.$$.fragment,t),r=!1},d(t){mt(n,t)}}}function Ge(t){let e,n;return e=new Tt({props:{game:t[1]}}),{c(){dt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.game=t[1]),e.$set(r)},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){mt(e,t)}}}function Re(e){let n,r;return n=new re({}),n.$on("start",e[5]),{c(){dt(n.$$.fragment)},m(t,e){$t(n,t,e),r=!0},p:t,i(t){r||(st(n.$$.fragment,t),r=!0)},o(t){ot(n.$$.fragment,t),r=!1},d(t){mt(n,t)}}}function Je(t){let e,n,r,s;const o=[Re,Ge,Ye],c=[];function i(t,e){return"IDLE"==t[0]?0:"PLAYING"==t[0]?1:"FINISHED"==t[0]?2:-1}return~(e=i(t))&&(n=c[e]=o[e](t)),{c(){n&&n.c(),r=L()},m(t,n){~e&&c[e].m(t,n),w(t,r,n),s=!0},p(t,[s]){let l=e;e=i(t),e===l?~e&&c[e].p(t,s):(n&&(nt(),ot(c[l],1,1,(()=>{c[l]=null})),rt()),~e?(n=c[e],n?n.p(t,s):(n=c[e]=o[e](t),n.c()),st(n,1),n.m(r.parentNode,r)):n=null)},i(t){s||(st(n),s=!0)},o(t){ot(n),s=!1},d(t){~e&&c[e].d(t),t&&y(r)}}}function Ue(t,e,n){let{wordsList:r}=e,s="IDLE";const o=t=>{n(0,s=t.machine.current),"FINISHED"==s&&function(t){const e=parseInt(localStorage.getItem("best"))||0,n=Math.max(t,e);localStorage.setItem("best",n.toString()),localStorage.setItem("last",t.toString())}(c.score)};let c=new Ve(r,o);return t.$$set=t=>{"wordsList"in t&&n(4,r=t.wordsList)},[s,c,()=>{n(0,s="IDLE"),n(1,c=new Ve(r,o))},()=>{n(1,c=new Ve(r,o)),c.start()},r,()=>c.start()]}class Xe extends gt{constructor(t){super(),ht(this,t,Ue,Je,i,{wordsList:4})}}function Ke(e){let n,r,s,o=e[2].message+"";return{c(){n=x("p"),r=_("An error occurred: "),s=_(o),S(n,"class","error svelte-1lpbqce")},m(t,e){w(t,n,e),v(n,r),v(n,s)},p:t,i:t,o:t,d(t){t&&y(n)}}}function Qe(e){let n,r;return n=new Xe({props:{wordsList:e[1]}}),{c(){dt(n.$$.fragment)},m(t,e){$t(n,t,e),r=!0},p:t,i(t){r||(st(n.$$.fragment,t),r=!0)},o(t){ot(n.$$.fragment,t),r=!1},d(t){mt(n,t)}}}function Ze(e){let n,r;return n=new yt({}),{c(){dt(n.$$.fragment)},m(t,e){$t(n,t,e),r=!0},p:t,i(t){r||(st(n.$$.fragment,t),r=!0)},o(t){ot(n.$$.fragment,t),r=!1},d(t){mt(n,t)}}}function tn(t){let e,n,r,s={ctx:t,current:null,token:null,hasCatch:!0,pending:Ze,then:Qe,catch:Ke,value:1,error:2,blocks:[,,,]};return function(t,e){const n=e.token={};function r(t,r,s,o){if(e.token!==n)return;e.resolved=o;let c=e.ctx;void 0!==s&&(c=c.slice(),c[s]=o);const i=t&&(e.current=t)(c);let l=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(nt(),ot(t,1,1,(()=>{e.blocks[n]=null})),rt())})):e.block.d(1),i.c(),st(i,1),i.m(e.mount(),e.anchor),l=!0),e.block=i,e.blocks&&(e.blocks[r]=i),l&&U()}if((s=t)&&"object"==typeof s&&"function"==typeof s.then){const n=O();if(t.then((t=>{B(n),r(e.then,1,e.value,t),B(null)}),(t=>{if(B(n),r(e.catch,2,e.error,t),B(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var s}(n=t[0],s),{c(){e=L(),s.block.c()},m(t,n){w(t,e,n),s.block.m(t,s.anchor=n),s.mount=()=>e.parentNode,s.anchor=e,r=!0},p(e,[n]){{const r=(t=e).slice();r[1]=r[2]=s.resolved,s.block.p(r,n)}},i(t){r||(st(s.block),r=!0)},o(t){for(let t=0;t<3;t+=1){ot(s.blocks[t])}r=!1},d(t){t&&y(e),s.block.d(t),s.token=null,s=null}}}function en(t){return[bt()]}new class extends gt{constructor(t){super(),ht(this,t,en,tn,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
