!function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function s(){return Object.create(null)}function o(t){t.forEach(r)}function c(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e,r,s){return t[1]&&s?n(r.ctx.slice(),t[1](s(e))):r.ctx}function u(t,e,n,r,s,o,c){const i=function(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|s[r];return t}return e.dirty|s}return e.dirty}(e,r,s,o);if(i){const s=l(e,n,r,c);t.p(s,i)}}function a(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}const f="undefined"!=typeof window;let d=f?()=>window.performance.now():()=>Date.now(),$=f?t=>requestAnimationFrame(t):t;const h=new Set;function m(t){h.forEach((e=>{e.c(t)||(h.delete(e),e.f())})),0!==h.size&&$(m)}function p(t){let e;return 0===h.size&&$(m),{promise:new Promise((n=>{h.add(e={c:t,f:n})})),abort(){h.delete(e)}}}function g(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function _(){return x(" ")}function k(){return x("")}function L(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function I(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function E(t,e){t.value=null==e?"":e}function M(t,e,n){t.classList[n?"add":"remove"](e)}function W(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const C=new Set;let j,z=0;function N(t,e,n,r,s,o,c,i=0){const l=16.666/r;let u="{\n";for(let t=0;t<=1;t+=l){const r=e+(n-e)*o(t);u+=100*t+`%{${c(r,1-r)}}\n`}const a=u+`100% {${c(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${i}`,d=t.ownerDocument;C.add(d);const $=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(w("style")).sheet),h=d.__svelte_rules||(d.__svelte_rules={});h[f]||(h[f]=!0,$.insertRule(`@keyframes ${f} ${a}`,$.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${r}ms linear ${s}ms 1 both`,z+=1,f}function A(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=n.length-r.length;s&&(t.style.animation=r.join(", "),z-=s,z||$((()=>{z||(C.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),C.clear())})))}function B(t){j=t}function D(){if(!j)throw new Error("Function called outside component initialization");return j}function O(){const t=D();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const s=W(e,n);r.slice().forEach((e=>{e.call(t,s)}))}}}const P=[],H=[],q=[],F=[],T=Promise.resolve();let V=!1;function Y(t){q.push(t)}let G=!1;const R=new Set;function J(){if(!G){G=!0;do{for(let t=0;t<P.length;t+=1){const e=P[t];B(e),U(e.$$)}for(B(null),P.length=0;H.length;)H.pop()();for(let t=0;t<q.length;t+=1){const e=q[t];R.has(e)||(R.add(e),e())}q.length=0}while(P.length);for(;F.length;)F.pop()();V=!1,G=!1,R.clear()}}function U(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}let X;function K(){return X||(X=Promise.resolve(),X.then((()=>{X=null}))),X}function Q(t,e,n){t.dispatchEvent(W(`${e?"intro":"outro"}${n}`))}const Z=new Set;let tt;function et(){tt={r:0,c:[],p:tt}}function nt(){tt.r||o(tt.c),tt=tt.p}function rt(t,e){t&&t.i&&(Z.delete(t),t.i(e))}function st(t,e,n,r){if(t&&t.o){if(Z.has(t))return;Z.add(t),tt.c.push((()=>{Z.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const ot={duration:0};function ct(n,r,s){let i,l=r(n,s),u=!0;const a=tt;function f(){const{delay:r=0,duration:s=300,easing:c=e,tick:f=t,css:$}=l||ot;$&&(i=N(n,1,0,s,r,c,$));const h=d()+r,m=h+s;Y((()=>Q(n,!1,"start"))),p((t=>{if(u){if(t>=m)return f(0,1),Q(n,!1,"end"),--a.r||o(a.c),!1;if(t>=h){const e=c((t-h)/s);f(1-e,e)}}return u}))}return a.r+=1,c(l)?K().then((()=>{l=l(),f()})):f(),{end(t){t&&l.tick&&l.tick(1,0),u&&(i&&A(n,i),u=!1)}}}function it(n,r,s,i){let l=r(n,s),u=i?0:1,a=null,f=null,$=null;function h(){$&&A(n,$)}function m(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function g(r){const{delay:s=0,duration:c=300,easing:i=e,tick:g=t,css:v}=l||ot,b={start:d()+s,b:r};r||(b.group=tt,tt.r+=1),a||f?f=b:(v&&(h(),$=N(n,u,r,c,s,i,v)),r&&g(0,1),a=m(b,c),Y((()=>Q(n,r,"start"))),p((t=>{if(f&&t>f.start&&(a=m(f,c),f=null,Q(n,a.b,"start"),v&&(h(),$=N(n,u,a.b,a.duration,0,i,l.css))),a)if(t>=a.end)g(u=a.b,1-u),Q(n,a.b,"end"),f||(a.b?h():--a.group.r||o(a.group.c)),a=null;else if(t>=a.start){const e=t-a.start;u=a.a+a.d*i(e/a.duration),g(u,1-u)}return!(!a&&!f)})))}return{run(t){c(l)?K().then((()=>{l=l(),g(t)})):g(t)},end(){h(),a=f=null}}}function lt(t,e){st(t,1,1,(()=>{e.delete(t.key)}))}function ut(t,e){const n={},r={},s={$$scope:1};let o=t.length;for(;o--;){const c=t[o],i=e[o];if(i){for(const t in c)t in i||(r[t]=1);for(const t in i)s[t]||(n[t]=i[t],s[t]=1);t[o]=i}else for(const t in c)s[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function at(t){return"object"==typeof t&&null!==t?t:{}}function ft(t){t&&t.c()}function dt(t,e,n){const{fragment:s,on_mount:i,on_destroy:l,after_update:u}=t.$$;s&&s.m(e,n),Y((()=>{const e=i.map(r).filter(c);l?l.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(Y)}function $t(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ht(t,e){-1===t.$$.dirty[0]&&(P.push(t),V||(V=!0,T.then(J)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function mt(e,n,r,c,i,l,u=[-1]){const a=j;B(e);const f=n.props||{},d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:s(),dirty:u,skip_bound:!1};let $=!1;if(d.ctx=r?r(e,f,((t,n,...r)=>{const s=r.length?r[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),$&&ht(e,t)),n})):[],d.update(),$=!0,o(d.before_update),d.fragment=!!c&&c(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(b)}else d.fragment&&d.fragment.c();n.intro&&rt(e.$$.fragment),dt(e,n.target,n.anchor),J()}B(a)}class pt{$destroy(){$t(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function gt(t,{delay:n=0,duration:r=400,easing:s=e}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:s,css:t=>"opacity: "+t*o}}function vt(e){let n,r,s;return{c(){n=w("div"),I(n,"id","spinner"),I(n,"class","svelte-wk8mx8")},m(t,e){v(t,n,e),s=!0},p:t,i(t){s||(r&&r.end(1),s=!0)},o(t){r=ct(n,gt,{}),s=!1},d(t){t&&b(n),t&&r&&r.end()}}}class bt extends pt{constructor(t){super(),mt(this,t,null,vt,i,{})}}const wt="assets/data/words.json";async function yt(){let t=JSON.parse(localStorage.getItem("words"));return t||(t=await async function(){return fetch(wt).then((t=>t.json()))}(),localStorage.setItem("words",JSON.stringify(t))),t}function xt(){const t=parseInt(localStorage.getItem("last"))||0;return{best:parseInt(localStorage.getItem("best"))||t,last:t}}function _t(e){let n,r,s,o,c;return{c(){n=w("div"),r=w("div"),s=x(e[0]),I(r,"class","word svelte-p34olb"),I(r,"style",e[1])},m(t,e){v(t,n,e),g(n,r),g(r,s),c=!0},p:t,i(t){c||(o&&o.end(1),c=!0)},o(t){o=ct(n,gt,{}),c=!1},d(t){t&&b(n),t&&o&&o.end()}}}function kt(t,e,n){let{props:r}=e;const{value:s,x:o,duration:c}=r,i=(o+100)/2,l=`\n        left: ${i}%;\n        animation-duration: ${c}s;\n        --transX: translateX(${-i}%);\n    `;return t.$$set=t=>{"props"in t&&n(2,r=t.props)},[s,l,r]}class Lt extends pt{constructor(t){super(),mt(this,t,kt,_t,i,{props:2})}}function It(t,e,n){const r=t.slice();return r[10]=e[n],r}function St(t,e){let n,r,s;return r=new Lt({props:{props:e[10]}}),{key:t,first:null,c(){n=k(),ft(r.$$.fragment),this.first=n},m(t,e){v(t,n,e),dt(r,t,e),s=!0},p(t,e){const n={};16&e&&(n.props=t[10]),r.$set(n)},i(t){s||(rt(r.$$.fragment,t),s=!0)},o(t){st(r.$$.fragment,t),s=!1},d(t){t&&b(n),$t(r,t)}}}function Et(t){let e,n,r,s,c,i,l,u,a,f,d,$,h,m,p=[],y=new Map,k=t[4];const W=t=>t[10].id;for(let e=0;e<k.length;e+=1){let n=It(t,k,e),r=W(n);y.set(r,p[e]=St(r,n))}return{c(){e=w("div"),n=w("div");for(let t=0;t<p.length;t+=1)p[t].c();r=_(),s=w("div"),c=w("div"),i=x("Score: "),l=x(t[0]),u=_(),a=w("input"),I(n,"class","words-container svelte-jv2s15"),I(c,"class","score svelte-jv2s15"),I(a,"class","input svelte-jv2s15"),I(a,"type","text"),I(a,"spellcheck",f=!1),M(a,"invalid",t[3]),I(s,"class","bottom-bar svelte-jv2s15"),I(e,"class","playground svelte-jv2s15")},m(o,f){v(o,e,f),g(e,n);for(let t=0;t<p.length;t+=1)p[t].m(n,null);g(e,r),g(e,s),g(s,c),g(c,i),g(c,l),g(s,u),g(s,a),E(a,t[1]),t[9](a),$=!0,h||(m=[L(a,"input",t[8]),L(a,"keyup",t[6]),L(a,"blur",t[5])],h=!0)},p(t,[e]){if(16&e){const r=t[4];et(),p=function(t,e,n,r,s,o,c,i,l,u,a,f){let d=t.length,$=o.length,h=d;const m={};for(;h--;)m[t[h].key]=h;const p=[],g=new Map,v=new Map;for(h=$;h--;){const t=f(s,o,h),i=n(t);let l=c.get(i);l?r&&l.p(t,e):(l=u(i,t),l.c()),g.set(i,p[h]=l),i in m&&v.set(i,Math.abs(h-m[i]))}const b=new Set,w=new Set;function y(t){rt(t,1),t.m(i,a),c.set(t.key,t),a=t.first,$--}for(;d&&$;){const e=p[$-1],n=t[d-1],r=e.key,s=n.key;e===n?(a=e.first,d--,$--):g.has(s)?!c.has(r)||b.has(r)?y(e):w.has(s)?d--:v.get(r)>v.get(s)?(w.add(r),y(e)):(b.add(s),d--):(l(n,c),d--)}for(;d--;){const e=t[d];g.has(e.key)||l(e,c)}for(;$;)y(p[$-1]);return p}(p,e,W,1,t,r,y,n,lt,St,null,It),nt()}(!$||1&e)&&S(l,t[0]),2&e&&a.value!==t[1]&&E(a,t[1]),8&e&&M(a,"invalid",t[3])},i(t){if(!$){for(let t=0;t<k.length;t+=1)rt(p[t]);Y((()=>{d||(d=it(e,gt,{duration:500},!0)),d.run(1)})),$=!0}},o(t){for(let t=0;t<p.length;t+=1)st(p[t]);d||(d=it(e,gt,{duration:500},!1)),d.run(0),$=!1},d(n){n&&b(e);for(let t=0;t<p.length;t+=1)p[t].d();t[9](null),n&&d&&d.end(),h=!1,o(m)}}}function Mt(t,e,n){let r,{game:s}=e,o=0,c="",i=!1,l=[];var u;s.registerWordsListener((t=>{n(4,l=t)})),s.registerScoreListener((t=>{n(0,o=t)})),u=()=>a(),D().$$.on_mount.push(u);const a=()=>r.focus();return t.$$set=t=>{"game"in t&&n(7,s=t.game)},[o,c,r,i,l,a,t=>{n(3,i=!1),"Enter"==t.key&&(s.handle(c)?n(1,c=""):n(3,i=!0))},s,function(){c=this.value,n(1,c)},function(t){H[t?"unshift":"push"]((()=>{r=t,n(2,r)}))}]}class Wt extends pt{constructor(t){super(),mt(this,t,Mt,Et,i,{game:7})}}function Ct(t){let e,n;return{c(){e=y("title"),n=x(t[0])},m(t,r){v(t,e,r),g(e,n)},p(t,e){1&e&&S(n,t[0])},d(t){t&&b(e)}}}function jt(t){let e,n,r,s=t[0]&&Ct(t);const o=t[3].default,c=function(t,e,n,r){if(t){const s=l(t,e,n,r);return t[0](s)}}(o,t,t[2],null);return{c(){e=y("svg"),s&&s.c(),n=k(),c&&c.c(),I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"viewBox",t[1]),I(e,"class","svelte-c8tyih")},m(t,o){v(t,e,o),s&&s.m(e,null),g(e,n),c&&c.m(e,null),r=!0},p(t,[i]){t[0]?s?s.p(t,i):(s=Ct(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c&&c.p&&4&i&&u(c,o,t,t[2],i,null,null),(!r||2&i)&&I(e,"viewBox",t[1])},i(t){r||(rt(c,t),r=!0)},o(t){st(c,t),r=!1},d(t){t&&b(e),s&&s.d(),c&&c.d(t)}}}function zt(t,e,n){let{$$slots:r={},$$scope:s}=e,{title:o=null}=e,{viewBox:c}=e;return t.$$set=t=>{"title"in t&&n(0,o=t.title),"viewBox"in t&&n(1,c=t.viewBox),"$$scope"in t&&n(2,s=t.$$scope)},[o,c,s,r]}class Nt extends pt{constructor(t){super(),mt(this,t,zt,jt,i,{title:0,viewBox:1})}}function At(t){let e;return{c(){e=y("path"),I(e,"d","M8 5v14l11-7z")},m(t,n){v(t,e,n)},d(t){t&&b(e)}}}function Bt(t){let e,r;const s=[{viewBox:"0 0 24 24"},t[0]];let o={$$slots:{default:[At]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)o=n(o,s[t]);return e=new Nt({props:o}),{c(){ft(e.$$.fragment)},m(t,n){dt(e,t,n),r=!0},p(t,[n]){const r=1&n?ut(s,[s[0],at(t[0])]):{};2&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(rt(e.$$.fragment,t),r=!0)},o(t){st(e.$$.fragment,t),r=!1},d(t){$t(e,t)}}}function Dt(t,e,r){return t.$$set=t=>{r(0,e=n(n({},e),a(t)))},[e=a(e)]}class Ot extends pt{constructor(t){super(),mt(this,t,Dt,Bt,i,{})}}function Pt(t){let e;return{c(){e=y("path"),I(e,"d","M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z")},m(t,n){v(t,e,n)},d(t){t&&b(e)}}}function Ht(t){let e,r;const s=[{viewBox:"0 0 512 512"},t[0]];let o={$$slots:{default:[Pt]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)o=n(o,s[t]);return e=new Nt({props:o}),{c(){ft(e.$$.fragment)},m(t,n){dt(e,t,n),r=!0},p(t,[n]){const r=1&n?ut(s,[s[0],at(t[0])]):{};2&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(rt(e.$$.fragment,t),r=!0)},o(t){st(e.$$.fragment,t),r=!1},d(t){$t(e,t)}}}function qt(t,e,r){return t.$$set=t=>{r(0,e=n(n({},e),a(t)))},[e=a(e)]}class Ft extends pt{constructor(t){super(),mt(this,t,qt,Ht,i,{})}}function Tt(t){let e,n,r,s,o,c,i,l,u,a,f,d,$,h,m;return s=new Ft({}),f=new Ot({}),{c(){e=w("div"),n=w("div"),r=w("div"),ft(s.$$.fragment),o=x("\n            Best score:\n            "),c=x(t[0]),i=_(),l=w("div"),l.textContent=`Last score: ${t[1]}`,u=_(),a=w("button"),ft(f.$$.fragment),I(n,"id","scores"),I(n,"class","svelte-1q3kv3i"),I(a,"id","play"),I(a,"class","svelte-1q3kv3i"),I(e,"id","start-menu"),I(e,"class","svelte-1q3kv3i"),M(e,"hidden",Vt)},m(d,p){v(d,e,p),g(e,n),g(n,r),dt(s,r,null),g(r,o),g(r,c),g(n,i),g(n,l),g(e,u),g(e,a),dt(f,a,null),$=!0,h||(m=L(a,"click",t[4]),h=!0)},p(t,[n]){0&n&&M(e,"hidden",Vt)},i(t){$||(rt(s.$$.fragment,t),rt(f.$$.fragment,t),Y((()=>{d||(d=it(e,gt,{duration:500},!0)),d.run(1)})),$=!0)},o(t){st(s.$$.fragment,t),st(f.$$.fragment,t),d||(d=it(e,gt,{duration:500},!1)),d.run(0),$=!1},d(t){t&&b(e),$t(s),$t(f),t&&d&&d.end(),h=!1,m()}}}let Vt=!1;function Yt(t,e,n){let{scores:r=xt()}=e;const{best:s,last:o}=r,c=O();return t.$$set=t=>{"scores"in t&&n(3,r=t.scores)},[s,o,c,r,()=>c("start")]}class Gt extends pt{constructor(t){super(),mt(this,t,Yt,Tt,i,{scores:3})}}function Rt(t){let e;return{c(){e=y("path"),I(e,"d","M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z")},m(t,n){v(t,e,n)},d(t){t&&b(e)}}}function Jt(t){let e,r;const s=[{viewBox:"0 0 24 24"},t[0]];let o={$$slots:{default:[Rt]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)o=n(o,s[t]);return e=new Nt({props:o}),{c(){ft(e.$$.fragment)},m(t,n){dt(e,t,n),r=!0},p(t,[n]){const r=1&n?ut(s,[s[0],at(t[0])]):{};2&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(rt(e.$$.fragment,t),r=!0)},o(t){st(e.$$.fragment,t),r=!1},d(t){$t(e,t)}}}function Ut(t,e,r){return t.$$set=t=>{r(0,e=n(n({},e),a(t)))},[e=a(e)]}class Xt extends pt{constructor(t){super(),mt(this,t,Ut,Jt,i,{})}}function Kt(t){let e;return{c(){e=y("path"),I(e,"d","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm144 386.4V280c0-13.2-10.8-24-24-24s-24 10.8-24 24v151.4C315.5 447 282.8 456 248 456s-67.5-9-96-24.6V280c0-13.2-10.8-24-24-24s-24 10.8-24 24v114.4c-34.6-36-56-84.7-56-138.4 0-110.3 89.7-200 200-200s200 89.7 200 200c0 53.7-21.4 102.5-56 138.4zM205.8 234.5c4.4-2.4 6.9-7.4 6.1-12.4-4-25.2-34.2-42.1-59.8-42.1s-55.9 16.9-59.8 42.1c-.8 5 1.7 10 6.1 12.4 4.4 2.4 9.9 1.8 13.7-1.6l9.5-8.5c14.8-13.2 46.2-13.2 61 0l9.5 8.5c2.5 2.3 7.9 4.8 13.7 1.6zM344 180c-25.7 0-55.9 16.9-59.8 42.1-.8 5 1.7 10 6.1 12.4 4.5 2.4 9.9 1.8 13.7-1.6l9.5-8.5c14.8-13.2 46.2-13.2 61 0l9.5 8.5c2.5 2.2 8 4.7 13.7 1.6 4.4-2.4 6.9-7.4 6.1-12.4-3.9-25.2-34.1-42.1-59.8-42.1zm-96 92c-30.9 0-56 28.7-56 64s25.1 64 56 64 56-28.7 56-64-25.1-64-56-64z")},m(t,n){v(t,e,n)},d(t){t&&b(e)}}}function Qt(t){let e,r;const s=[{viewBox:"0 0 496 512"},t[0]];let o={$$slots:{default:[Kt]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)o=n(o,s[t]);return e=new Nt({props:o}),{c(){ft(e.$$.fragment)},m(t,n){dt(e,t,n),r=!0},p(t,[n]){const r=1&n?ut(s,[s[0],at(t[0])]):{};2&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){r||(rt(e.$$.fragment,t),r=!0)},o(t){st(e.$$.fragment,t),r=!1},d(t){$t(e,t)}}}function Zt(t,e,r){return t.$$set=t=>{r(0,e=n(n({},e),a(t)))},[e=a(e)]}class te extends pt{constructor(t){super(),mt(this,t,Zt,Qt,i,{})}}function ee(e){let n,r,s,c,i,l,u,a,f,d,$,h,m,p,y,k,S,E,M,W;return s=new te({}),h=new Xt({}),k=new Ot({}),{c(){n=w("div"),r=w("h1"),ft(s.$$.fragment),c=x("\n        Game Over!"),i=_(),l=w("h2"),l.textContent=`Your score: ${e[0]}`,u=_(),a=w("p"),a.textContent=`Best score: ${e[1]}`,f=_(),d=w("div"),$=w("button"),ft(h.$$.fragment),m=x("\n            Menu"),p=_(),y=w("button"),ft(k.$$.fragment),S=x("\n            Play again"),I($,"class","btn svelte-1ols91t"),I(y,"class","btn svelte-1ols91t"),I(n,"class","wrapper svelte-1ols91t")},m(t,o){v(t,n,o),g(n,r),dt(s,r,null),g(r,c),g(n,i),g(n,l),g(n,u),g(n,a),g(n,f),g(n,d),g(d,$),dt(h,$,null),g($,m),g(d,p),g(d,y),dt(k,y,null),g(y,S),E=!0,M||(W=[L($,"click",e[4]),L(y,"click",e[5])],M=!0)},p:t,i(t){E||(rt(s.$$.fragment,t),rt(h.$$.fragment,t),rt(k.$$.fragment,t),E=!0)},o(t){st(s.$$.fragment,t),st(h.$$.fragment,t),st(k.$$.fragment,t),E=!1},d(t){t&&b(n),$t(s),$t(h),$t(k),M=!1,o(W)}}}function ne(t,e,n){let{scores:r}=e;const{last:s,best:o}=r,c=O();return t.$$set=t=>{"scores"in t&&n(3,r=t.scores)},[s,o,c,r,()=>c("menu"),()=>c("playagain")]}class re extends pt{constructor(t){super(),mt(this,t,ne,ee,i,{scores:3})}}function se(t){return{enumerable:!0,value:t}}function oe(t){return{enumerable:!0,writable:!0,value:t}}let ce={},ie=()=>!0,le=()=>({}),ue=t=>t,ae=(t,e,n,r)=>t.apply(n,r)&&e.apply(n,r),fe=(t,e,n,[r,s])=>e.call(n,t.call(n,r,s),s),de=(t,e)=>Object.freeze(Object.create(t,e));function $e(t,e,n){return t.reduce(((t,e)=>function(...r){return n(t,e,this,r)}),e)}function he(t){return de(this,{fn:se(t)})}let me={},pe=(he.bind(me),{});he.bind(pe);function ge(t,e){return e.filter((e=>t.isPrototypeOf(e)))}function ve(t,e,...n){let r=$e(ge(pe,n).map((t=>t.fn)),ie,ae),s=$e(ge(me,n).map((t=>t.fn)),ue,fe);return de(this,{from:se(t),to:se(e),guards:se(r),reducers:se(s)})}let be={},we={},ye=ve.bind(be);ve.bind(we,null);function xe(t,e,n){return Se(e,t,n,this.immediates)||t}function _e(t){let e=new Map;for(let n of t)e.has(n.from)||e.set(n.from,[]),e.get(n.from).push(n);return e}let ke={enter:ue};function Le(...t){let e=ge(be,t),n=ge(we,t),r={final:se(0===t.length),transitions:se(_e(e))};return n.length&&(r.immediates=se(n),r.enter=se(xe)),de(ke,r)}let Ie={get state(){return{name:this.current,value:this.states[this.current]}}};function Se(t,e,n,r){let{context:s}=t;for(let{to:o,guards:c,reducers:i}of r)if(c(s,n)){t.context=i.call(t,s,n);let r=e.original||e,c=de(r,{current:se(o),original:{value:r}});return c.state.value.enter(c,t,n)}}let Ee={send(t){this.machine=function(t,e){let n=e.type||e,{machine:r}=t,{value:s}=r.state;return s.transitions.has(n)&&Se(t,r,e,s.transitions.get(n))||r}(this,t),this.onChange(this)}};const Me=function(t,e,n=le){return"string"!=typeof t&&(n=e||le,e=t,t=Object.keys(e)[0]),ce._create&&ce._create(t,e),de(Ie,{context:se(n),current:se(t),states:se(e)})}("IDLE",{IDLE:Le(ye("start","PLAYING")),PLAYING:Le(ye("pause","PAUSED"),ye("end","FINISHED")),PAUSED:Le(ye("resume","PLAY")),FINISHED:Le()});class We{constructor(t,e){this._fallTime=2e3,this._score=0,this._fallingWords=[],this._wordsList=t,this.state=function(t,e,n,r){let s=Object.create(Ee,{machine:oe(t),context:oe(t.context(n,r)),onChange:se(e)});return s.send=s.send.bind(s),s.machine=s.machine.state.value.enter(s.machine,s,r),s}(Me,e)}start(){this.state.send("start"),this._interval=setInterval(this.addWord.bind(this),this._fallTime)}get fallingWords(){return this._fallingWords}set fallingWords(t){this._fallingWords=t,this._wordsListener(t)}get score(){return this._score}set score(t){this._score=t,this._scoreListener(t)}handle(t){const e=t.toLocaleLowerCase(),n=this.isValid(e);if(n){const t=this.removeWord(e);this.applyScore(t),clearInterval(t.timeout)}return n}isValid(t){return this.fallingWords.some((e=>e.value==t))}removeWord(t){const e=this.fallingWords.findIndex((e=>e.value==t)),n=this.fallingWords[e];return this.fallingWords=this.fallingWords.filter(((t,n)=>n!=e)),clearInterval(n.timeout),n}applyScore(t){this.score+=Math.round(t.value.length*(100/t.duration))}addWord(){const t=this.generateWord();this.fallingWords=[...this.fallingWords,t]}generateWord(){const t=Math.floor(Math.random()*this._wordsList.length),e=this._wordsList[t],n=this.randomPos();return{x:n,value:e,duration:10,id:e+n,timeout:setTimeout(this.loose.bind(this),1e4)}}loose(){this.state.send("end"),clearInterval(this._interval);for(let t of this.fallingWords)this.removeWord(t.value)}randomPos(){return this.randint(-100,100)}randint(t,e){const n=e-t;return Math.round(Math.random()*n)+t}registerWordsListener(t){this._wordsListener=t}registerScoreListener(t){this._scoreListener=t}}function Ce(e){let n,r;return n=new re({props:{scores:xt()}}),n.$on("menu",e[2]),n.$on("playagain",e[3]),{c(){ft(n.$$.fragment)},m(t,e){dt(n,t,e),r=!0},p:t,i(t){r||(rt(n.$$.fragment,t),r=!0)},o(t){st(n.$$.fragment,t),r=!1},d(t){$t(n,t)}}}function je(t){let e,n;return e=new Wt({props:{game:t[1]}}),{c(){ft(e.$$.fragment)},m(t,r){dt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.game=t[1]),e.$set(r)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){st(e.$$.fragment,t),n=!1},d(t){$t(e,t)}}}function ze(e){let n,r;return n=new Gt({}),n.$on("start",e[5]),{c(){ft(n.$$.fragment)},m(t,e){dt(n,t,e),r=!0},p:t,i(t){r||(rt(n.$$.fragment,t),r=!0)},o(t){st(n.$$.fragment,t),r=!1},d(t){$t(n,t)}}}function Ne(t){let e,n,r,s;const o=[ze,je,Ce],c=[];function i(t,e){return"IDLE"==t[0]?0:"PLAYING"==t[0]?1:"FINISHED"==t[0]?2:-1}return~(e=i(t))&&(n=c[e]=o[e](t)),{c(){n&&n.c(),r=k()},m(t,n){~e&&c[e].m(t,n),v(t,r,n),s=!0},p(t,[s]){let l=e;e=i(t),e===l?~e&&c[e].p(t,s):(n&&(et(),st(c[l],1,1,(()=>{c[l]=null})),nt()),~e?(n=c[e],n?n.p(t,s):(n=c[e]=o[e](t),n.c()),rt(n,1),n.m(r.parentNode,r)):n=null)},i(t){s||(rt(n),s=!0)},o(t){st(n),s=!1},d(t){~e&&c[e].d(t),t&&b(r)}}}function Ae(t,e,n){let{wordsList:r}=e,s="IDLE";const o=t=>{n(0,s=t.machine.current),"FINISHED"==s&&function(t){const e=parseInt(localStorage.getItem("best"))||0,n=Math.max(t,e);localStorage.setItem("best",n.toString()),localStorage.setItem("last",t.toString())}(c.score)};let c=new We(r,o);return t.$$set=t=>{"wordsList"in t&&n(4,r=t.wordsList)},[s,c,()=>{n(0,s="IDLE"),n(1,c=new We(r,o))},()=>{n(1,c=new We(r,o)),c.start()},r,()=>c.start()]}class Be extends pt{constructor(t){super(),mt(this,t,Ae,Ne,i,{wordsList:4})}}function De(e){let n,r,s,o=e[2].message+"";return{c(){n=w("p"),r=x("An error occurred: "),s=x(o),I(n,"class","error svelte-1lpbqce")},m(t,e){v(t,n,e),g(n,r),g(n,s)},p:t,i:t,o:t,d(t){t&&b(n)}}}function Oe(e){let n,r;return n=new Be({props:{wordsList:e[1]}}),{c(){ft(n.$$.fragment)},m(t,e){dt(n,t,e),r=!0},p:t,i(t){r||(rt(n.$$.fragment,t),r=!0)},o(t){st(n.$$.fragment,t),r=!1},d(t){$t(n,t)}}}function Pe(e){let n,r;return n=new bt({}),{c(){ft(n.$$.fragment)},m(t,e){dt(n,t,e),r=!0},p:t,i(t){r||(rt(n.$$.fragment,t),r=!0)},o(t){st(n.$$.fragment,t),r=!1},d(t){$t(n,t)}}}function He(t){let e,n,r,s={ctx:t,current:null,token:null,hasCatch:!0,pending:Pe,then:Oe,catch:De,value:1,error:2,blocks:[,,,]};return function(t,e){const n=e.token={};function r(t,r,s,o){if(e.token!==n)return;e.resolved=o;let c=e.ctx;void 0!==s&&(c=c.slice(),c[s]=o);const i=t&&(e.current=t)(c);let l=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(et(),st(t,1,1,(()=>{e.blocks[n]=null})),nt())})):e.block.d(1),i.c(),rt(i,1),i.m(e.mount(),e.anchor),l=!0),e.block=i,e.blocks&&(e.blocks[r]=i),l&&J()}if((s=t)&&"object"==typeof s&&"function"==typeof s.then){const n=D();if(t.then((t=>{B(n),r(e.then,1,e.value,t),B(null)}),(t=>{if(B(n),r(e.catch,2,e.error,t),B(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var s}(n=t[0],s),{c(){e=k(),s.block.c()},m(t,n){v(t,e,n),s.block.m(t,s.anchor=n),s.mount=()=>e.parentNode,s.anchor=e,r=!0},p(e,[n]){{const r=(t=e).slice();r[1]=r[2]=s.resolved,s.block.p(r,n)}},i(t){r||(rt(s.block),r=!0)},o(t){for(let t=0;t<3;t+=1){st(s.blocks[t])}r=!1},d(t){t&&b(e),s.block.d(t),s.token=null,s=null}}}function qe(t){return[yt()]}new class extends pt{constructor(t){super(),mt(this,t,qe,He,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
